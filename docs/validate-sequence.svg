<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="443px" preserveAspectRatio="none" style="width:678px;height:443px;" version="1.1" viewBox="0 0 678 443" width="678px" zoomAndPan="magnify"><defs><filter height="300%" id="fx28fzo1g70gj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="356" x="158.5" y="28.708">Binary Delta Patcher Validate Command</text><rect fill="#FFFFFF" filter="url(#fx28fzo1g70gj)" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="276" x="10" y="125.3828"/><rect fill="#FFFFFF" filter="url(#fx28fzo1g70gj)" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="336" x="10" y="214.7813"/><rect fill="#FFFFFF" filter="url(#fx28fzo1g70gj)" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="400" x="10" y="304.1797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="79.25" y2="396.5781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="251" x2="251" y1="79.25" y2="396.5781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="311" x2="311" y1="79.25" y2="396.5781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="373" x2="373" y1="79.25" y2="396.5781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="467" x2="467" y1="79.25" y2="396.5781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="569" x2="569" y1="79.25" y2="396.5781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="640" x2="640" y1="79.25" y2="396.5781"/><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="20" y="43.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="27" y="63.9482">PatchTool</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="20" y="395.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="27" y="415.5732">PatchTool</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="45" x="227" y="43.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="234" y="63.9482">[src]</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="45" x="227" y="395.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="234" y="415.5732">[src]</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="286" y="43.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="293" y="63.9482">[dst]</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="286" y="395.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="293" y="415.5732">[dst]</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="50" x="346" y="43.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="353" y="63.9482">[pch]</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="50" x="346" y="395.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="353" y="415.5732">[pch]</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="107" x="414" y="39.9531"/><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="107" x="410" y="43.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="417" y="63.9482">XDelta3Patch</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="107" x="414" y="395.5781"/><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="107" x="410" y="399.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="417" y="419.5732">XDelta3Patch</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="64" x="535" y="43.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="542" y="63.9482">xdelta3</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="64" x="535" y="395.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="542" y="415.5732">xdelta3</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="613" y="43.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="620" y="63.9482">HTTP</text><rect fill="#FEFECE" filter="url(#fx28fzo1g70gj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="613" y="395.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="620" y="415.5732">HTTP</text><polygon fill="#FF6655" points="74.5,106.3828,64.5,110.3828,74.5,114.3828,70.5,110.3828" style="stroke:#FF6655;stroke-width:1.0;"/><polygon fill="#FF6655" points="361,106.3828,371,110.3828,361,114.3828,365,110.3828" style="stroke:#FF6655;stroke-width:1.0;"/><line style="stroke:#FF6655;stroke-width:1.0;" x1="68.5" x2="367" y1="110.3828" y2="110.3828"/><text fill="#777777" font-family="Impact" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="80.5" y="105.3169">read manifest</text><path d="M10,125.3828 L234,125.3828 L234,132.3828 L224,142.3828 L10,142.3828 L10,125.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="276" x="10" y="125.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="25" y="138.4497">if src validation enabled</text><polygon fill="#FF6655" points="74.5,159.6484,64.5,163.6484,74.5,167.6484,70.5,163.6484" style="stroke:#FF6655;stroke-width:1.0;"/><polygon fill="#FF6655" points="239.5,159.6484,249.5,163.6484,239.5,167.6484,243.5,163.6484" style="stroke:#FF6655;stroke-width:1.0;"/><line style="stroke:#FF6655;stroke-width:1.0;" x1="68.5" x2="245.5" y1="163.6484" y2="163.6484"/><text fill="#777777" font-family="Impact" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="80.5" y="158.5825">validate src hash</text><polygon fill="#FF6655" points="74.5,188.7813,64.5,192.7813,74.5,196.7813,70.5,192.7813" style="stroke:#FF6655;stroke-width:1.0;"/><polygon fill="#FF6655" points="239.5,188.7813,249.5,192.7813,239.5,196.7813,243.5,192.7813" style="stroke:#FF6655;stroke-width:1.0;"/><line style="stroke:#FF6655;stroke-width:1.0;" x1="68.5" x2="245.5" y1="192.7813" y2="192.7813"/><text fill="#777777" font-family="Impact" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="80.5" y="187.7153">validate src file properties</text><path d="M10,214.7813 L236,214.7813 L236,221.7813 L226,231.7813 L10,231.7813 L10,214.7813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="336" x="10" y="214.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="181" x="25" y="227.8481">if dst validation enabled</text><polygon fill="#FF6655" points="74.5,249.0469,64.5,253.0469,74.5,257.0469,70.5,253.0469" style="stroke:#FF6655;stroke-width:1.0;"/><polygon fill="#FF6655" points="299,249.0469,309,253.0469,299,257.0469,303,253.0469" style="stroke:#FF6655;stroke-width:1.0;"/><line style="stroke:#FF6655;stroke-width:1.0;" x1="68.5" x2="305" y1="253.0469" y2="253.0469"/><text fill="#777777" font-family="Impact" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="80.5" y="247.981">validate dst hash</text><polygon fill="#FF6655" points="74.5,278.1797,64.5,282.1797,74.5,286.1797,70.5,282.1797" style="stroke:#FF6655;stroke-width:1.0;"/><polygon fill="#FF6655" points="299,278.1797,309,282.1797,299,286.1797,303,282.1797" style="stroke:#FF6655;stroke-width:1.0;"/><line style="stroke:#FF6655;stroke-width:1.0;" x1="68.5" x2="305" y1="282.1797" y2="282.1797"/><text fill="#777777" font-family="Impact" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="80.5" y="277.1138">validate dst file properties</text><path d="M10,304.1797 L239,304.1797 L239,311.1797 L229,321.1797 L10,321.1797 L10,304.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="400" x="10" y="304.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184" x="25" y="317.2466">if pch validation enabled</text><polygon fill="#FF6655" points="74.5,338.4453,64.5,342.4453,74.5,346.4453,70.5,342.4453" style="stroke:#FF6655;stroke-width:1.0;"/><polygon fill="#FF6655" points="361,338.4453,371,342.4453,361,346.4453,365,342.4453" style="stroke:#FF6655;stroke-width:1.0;"/><line style="stroke:#FF6655;stroke-width:1.0;" x1="68.5" x2="367" y1="342.4453" y2="342.4453"/><text fill="#777777" font-family="Impact" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="80.5" y="337.3794">validate pch hash</text><polygon fill="#FF6655" points="74.5,367.5781,64.5,371.5781,74.5,375.5781,70.5,371.5781" style="stroke:#FF6655;stroke-width:1.0;"/><polygon fill="#FF6655" points="361,367.5781,371,371.5781,361,375.5781,365,371.5781" style="stroke:#FF6655;stroke-width:1.0;"/><line style="stroke:#FF6655;stroke-width:1.0;" x1="68.5" x2="367" y1="371.5781" y2="371.5781"/><text fill="#777777" font-family="Impact" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="80.5" y="366.5122">validate pch file properties</text><!--MD5=[8b5bf2d54ce400ae952d37b9a7fc7760]
@startuml validate-sequence

!include patchtool.iuml

title Binary Delta Patcher Validate Command

' initialize
PatchTool <-> pch : read manifest

' validate files
group if src validation enabled
  PatchTool <-> src : validate src hash
  PatchTool <-> src : validate src file properties
end
group if dst validation enabled
  PatchTool <-> dst : validate dst hash
  PatchTool <-> dst : validate dst file properties
end
group if pch validation enabled
  PatchTool <-> pch : validate pch hash
  PatchTool <-> pch : validate pch file properties
end

@enduml

@startuml validate-sequence

skinparam interface {
  backgroundColor white
  borderColor orange
}

skinparam component {
  FontSize 13
  FontName Courier
  BorderColor black
  BackgroundColor gold
  ArrowFontName Impact
  ArrowColor #FF6655
  ArrowFontColor #777777
}

participant PatchTool as PatchTool
participant "[src]" as src
participant "[dst]" as dst
participant "[pch]" as pch

collections XDelta3Patch as XDelta3Patch

participant "xdelta3" as xdelta3
participant "HTTP" as HTTP

title Binary Delta Patcher Validate Command

PatchTool <-> pch : read manifest

group if src validation enabled
  PatchTool <-> src : validate src hash
  PatchTool <-> src : validate src file properties
end
group if dst validation enabled
  PatchTool <-> dst : validate dst hash
  PatchTool <-> dst : validate dst file properties
end
group if pch validation enabled
  PatchTool <-> pch : validate pch hash
  PatchTool <-> pch : validate pch file properties
end

@enduml

PlantUML version 1.2020.22(Sun Dec 06 04:36:27 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>